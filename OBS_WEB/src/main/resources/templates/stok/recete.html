<style>
/* =========================
   2026 CAM – RECETE
   wrapper: #ara_content
   hover: YOK
   ========================= */

#ara_content{ color: rgba(255,255,255,.92); }

/* CARD */
#ara_content .card{
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
  border-radius: 18px;
  box-shadow: 0 18px 55px rgba(0,0,0,.45);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

/* LAYOUT */
#ara_content .cardd{ display:flex; gap:12px; align-items:flex-start; }
#ara_content .child{
  width: 80%;
  border: none !important;
  background: transparent !important;
  padding: 0 !important;
}

/* GROUP-BOX cam + sexy horizontal scroll */
#ara_content .group-box{
  position: relative;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-behavior: smooth;

  border: 1px solid rgba(255,255,255,.14) !important;
  background: rgba(8,14,26,.35) !important;
  border-radius: 16px;
  padding: 12px;
  margin: 10px 0;
}

/* scrollbar */
#ara_content .group-box::-webkit-scrollbar{ height: 10px; }
#ara_content .group-box::-webkit-scrollbar-track{
  background: rgba(255,255,255,.06);
  border-radius: 10px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
#ara_content .group-box::-webkit-scrollbar-thumb{
  background: linear-gradient(135deg, rgba(56,189,248,.65), rgba(34,197,94,.55));
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(56,189,248,.35), inset 0 0 0 1px rgba(255,255,255,.25);
}
#ara_content .group-box{
  scrollbar-width: thin;
  scrollbar-color: rgba(56,189,248,.65) rgba(255,255,255,.06);
}

/* LABEL */
#ara_content label{
  color: rgba(255,255,255,.84);
  font-weight: 800;
  font-size: 13px;
}

/* INPUT / SELECT */
#ara_content .form-control,
#ara_content .form-select{
  height: 38px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16) !important;
  background: rgba(8,14,26,.55) !important;
  color: rgba(255,255,255,.92) !important;
  padding: 8px 12px !important;
  outline: none;
}
#ara_content .form-control:focus,
#ara_content .form-select:focus{
  border-color: rgba(56,189,248,.65) !important;
  box-shadow: 0 0 0 5px rgba(56,189,248,.18);
  background: rgba(8,14,26,.65) !important;
  color:#fff !important;
}

/* TEXTAREA (Aciklama) */
#ara_content textarea{
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16) !important;
  background: rgba(8,14,26,.55) !important;
  color: rgba(255,255,255,.92) !important;
  padding: 10px 12px !important;
  outline: none;
}
#ara_content textarea:focus{
  border-color: rgba(56,189,248,.65) !important;
  box-shadow: 0 0 0 5px rgba(56,189,248,.18);
  background: rgba(8,14,26,.65) !important;
  color:#fff !important;
}

/* BUTTONS */
#ara_content .btn-primary{
border-radius: 14px;
  font-weight: 900;
  height: 40px;
  background: rgba(56,189,248,.18) !important;
  border: 1px solid rgba(56,189,248,.35) !important;
  color: rgba(255,255,255,.95) !important;
}
#ara_content .btn-primary:hover{
  background: rgba(56,189,248,.26) !important;
  border-color: rgba(56,189,248,.55) !important;
  transform: translateY(-1px);
}


#ara_content .btn.btn-secondary{
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.16) !important;
  background: rgba(255,255,255,.06) !important;
  color: rgba(255,255,255,.88) !important;
}
#ara_content .btn.btn-secondary:hover{
  background: rgba(56,189,248,.12) !important;
  border-color: rgba(56,189,248,.35) !important;
}

/* =========================
   TABLE – recTable (hover YOK)
   ========================= */
#ara_content #recTable{
  width: 100%;
  margin-top: 8px;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid rgba(255,255,255,.14) !important;
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255,255,255,.03) !important;
}

#ara_content #recTable thead th{
  position: sticky;
  top: 0;
  z-index: 2;
  background: linear-gradient(180deg,#1f3b5c,#162b44) !important;
  color: #fff !important;
  font-size: 13px;
  font-weight: 900;
  text-align: left;
  white-space: nowrap;
}

#ara_content #recTable th,
#ara_content #recTable td{
  border: 0 !important;
  border-bottom: 1px solid rgba(255,255,255,.10) !important;
  padding: 6px 10px !important;
  height: 28px;
  white-space: nowrap;
  vertical-align: middle;
}

#ara_content #recTable tbody td{
  background: rgba(255,255,255,.04) !important;
  color: rgba(255,255,255,.78) !important;
}

/* hover kapalı */
#ara_content #recTable tbody tr:hover > *{
  background: rgba(255,255,255,.04) !important;
  color: rgba(255,255,255,.78) !important;
}

/* right align */
#ara_content .double-column,
#ara_content .saga-bold{
  text-align: right !important;
  font-weight: 900 !important;
}

/* =========================
   ALT BILGI – rec-info (kompakt)
   ========================= */

#ara_content .rec-info{
  padding: 10px 12px !important;
}

#ara_content .rec-info .form-row{
  display:flex !important;
  flex-wrap: wrap;
  align-items:center;
  gap: 6px 10px !important;
  margin-bottom: 6px !important;
}

/* padding-left hack iptal */
#ara_content .rec-info .form-row > span{ padding-left: 0 !important; }

/* başlık spanleri küçült */
#ara_content .rec-info .form-row > span[style*="width"]{
  color: rgba(255,255,255,.72) !important;
  font-weight: 900;
  font-size: 12px;
  line-height: 1.1;
}

/* label değerler cam badge */
#ara_content .rec-info .form-row > label{
  display:inline-flex;
  align-items:center;
  justify-content: flex-start;

  background: rgba(255,255,255,.04) !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  border-radius: 10px !important;

  padding: 4px 8px !important;
  min-height: 28px !important;
  font-size: 12px !important;
  line-height: 1.1 !important;

  color: rgba(255,255,255,.92) !important;
  font-weight: 900 !important;
}

/* input (ukodu) kompakt */
#ara_content .rec-info .form-control{
  height: 30px !important;
  border-radius: 10px !important;
  padding: 4px 8px !important;
  font-size: 12px !important;
  font-weight: 900 !important;
}

/* "Uretilecek Yeni Urun" başlık */
#ara_content .rec-title{
  display:block;
  margin: 8px 0 0 20px;
  font-weight: 900;
  color: rgba(255,255,255,.88);
  text-shadow: 0 0 14px rgba(56,189,248,.18);
}

#ara_content #errorDiv{
  display:none;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: #fff;
  font-weight: 900;
}


/* =========================
   2026 CAM – REC TABLE (SATIR INPUTLARI KOMPAKT)
   Scope: #ara_content #recTable
   ========================= */

/* Hücre padding ve yüksekliği sıkı */
#ara_content #recTable th,
#ara_content #recTable td{
  padding: 4px 8px !important;
  height: 26px !important;
  vertical-align: middle !important;
}

/* Satır içi input/select/label -> KOMPAKT */
#ara_content #recTable tbody .form-control,
#ara_content #recTable tbody .form-select{
  height: 30px !important;          /* ✅ kompakt */
  min-height: 30px !important;
  border-radius: 10px !important;
  padding: 4px 8px !important;
  font-size: 12px !important;
  font-weight: 900 !important;

  border: 1px solid rgba(255,255,255,.14) !important;
  background: rgba(8,14,26,.55) !important;
  color: rgba(255,255,255,.95) !important;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06) !important;
}

/* label.form-control (readonly gibi kullandıkların) */
#ara_content #recTable tbody label.form-control{
  display: flex !important;
  align-items: center !important;
  margin: 0 !important;
}
#ara_content #recTable tbody label.form-control span{
  display: inline-block;
  width: 100%;
  line-height: 1;
}

/* Focus daha ince */
#ara_content #recTable tbody .form-control:focus,
#ara_content #recTable tbody .form-select:focus{
  border-color: rgba(56,189,248,.65) !important;
  box-shadow: 0 0 0 4px rgba(56,189,248,.16) !important;
  background: rgba(8,14,26,.65) !important;
}

/* İçteki ok (▼) daha küçük + hizalı */
#ara_content #recTable tbody td > div[style*="position: relative"] > span{
  right: 8px !important;
  font-size: 12px !important;
  color: rgba(255,255,255,.78) !important;
  text-shadow: 0 0 10px rgba(0,0,0,.55);
}

/* datalist/select için sağ padding (okla çakışmasın) */
#ara_content #recTable tbody td > div[style*="position: relative"] input.form-control,
#ara_content #recTable tbody td > div[style*="position: relative"] select.form-control{
  padding-right: 26px !important;
}

/* trash butonu da kompakt */
#ara_content #recTable tbody .btn.btn-secondary{
  height: 30px !important;
  width: 34px !important;
  padding: 0 !important;
  border-radius: 10px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;

  border: 1px solid rgba(255,255,255,.16) !important;
  background: rgba(255,255,255,.06) !important;
  color: rgba(255,255,255,.88) !important;
}
#ara_content #recTable tbody .btn.btn-secondary:hover{
  background: rgba(56,189,248,.12) !important;
  border-color: rgba(56,189,248,.35) !important;
}

/* tablo satırı içinde ml-2 falan taşırmasın */
#ara_content #recTable tbody .ml-2{ margin-left: 0 !important; }

#ara_content .rec-rel{
  position: relative;
  width: 100%;
}
#ara_content .rec-arrow{
  position: absolute;
  top: 50%;
  right: 10px;
  transform: translateY(-50%);
  pointer-events: none;
}

/* =========================
   RECETE – ÜST BLOK KOMPAKT (GRID)
   Scope: #ara_content .rec-top
   ========================= */

/* group-box içi artık grid */
#ara_content .rec-top{
  display: grid;
  grid-template-columns: 80px 120px 40px 80px 150px 80px 150px; /* label+input+btn + label+select + label+select */
  gap: 8px 10px;
  align-items: center;
}

/* Aciklama satırı: sol 3 kolon + sağ durum 2 kolon */
#ara_content .rec-top .rec-aciklama-label{ grid-column: 1 / 2; }
#ara_content .rec-top .rec-aciklama-text { grid-column: 2 / 6; }  /* geniş */
#ara_content .rec-top .rec-durum-label   { grid-column: 6 / 7; justify-self: end; }
#ara_content .rec-top .rec-durum-select  { grid-column: 7 / 8; }

/* ilk satır elemanları */
#ara_content .rec-top .rec-kodu-label{ grid-column: 1 / 2; }
#ara_content .rec-top .rec-kodu-input{ grid-column: 2 / 3; }
#ara_content .rec-top .rec-kodu-btn  { grid-column: 3 / 4; justify-self: start; }

#ara_content .rec-top .rec-anagrp-label{ grid-column: 4 / 5; justify-self: end; }
#ara_content .rec-top .rec-anagrp{ grid-column: 5 / 6; }

#ara_content .rec-top .rec-altgrp-label{ grid-column: 6 / 7; justify-self: end; }
#ara_content .rec-top .rec-altgrp{ grid-column: 7 / 8; }

/* select oklarını tek sınıfla yönet (inline spanleri azalt) */
#ara_content .rec-select{
  position: relative;
  width: 150px;
}
#ara_content .rec-select .form-select{
  width: 150px !important;
  padding-right: 28px !important;
}
#ara_content .rec-select::after{
  content: "▼";
  position: absolute;
  top: 50%;
  right: 12px;
  transform: translateY(-50%);
  pointer-events: none;
  color: rgba(255,255,255,.86);
  text-shadow: 0 0 6px rgba(255,255,255,.30);
  font-weight: 800;
  font-size: 12px;
}

/* textarea kompakt */
#ara_content .rec-top textarea{
  min-height: 44px !important;
  height: 44px !important;
  resize: vertical;
}

#ara_content .ta-right{
  text-align: right !important;
}

/* istersen numeriklerde daha net dursun */
#ara_content input.ta-right{
  font-variant-numeric: tabular-nums;
}

/* küçük ekranda alt alta */
@media (max-width: 1100px){
  #ara_content .rec-top{
    grid-template-columns: 80px 1fr 44px;
  }
  #ara_content .rec-top .rec-anagrp-label,
  #ara_content .rec-top .rec-altgrp-label,
  #ara_content .rec-top .rec-durum-label{ justify-self: start; }

  #ara_content .rec-top .rec-kodu-label{ grid-column: 1 / 2; }
  #ara_content .rec-top .rec-kodu-input{ grid-column: 2 / 3; }
  #ara_content .rec-top .rec-kodu-btn  { grid-column: 3 / 4; }

  #ara_content .rec-top .rec-anagrp-label{ grid-column: 1 / 2; }
  #ara_content .rec-top .rec-anagrp{ grid-column: 2 / 4; width: 100%; }

  #ara_content .rec-top .rec-altgrp-label{ grid-column: 1 / 2; }
  #ara_content .rec-top .rec-altgrp{ grid-column: 2 / 4; width: 100%; }

  #ara_content .rec-top .rec-aciklama-label{ grid-column: 1 / 2; }
  #ara_content .rec-top .rec-aciklama-text { grid-column: 2 / 4; width: 100%; }

  #ara_content .rec-top .rec-durum-label{ grid-column: 1 / 2; }
  #ara_content .rec-top .rec-durum-select{ grid-column: 2 / 4; width: 100%; }
  #ara_content .rec-select{ width: 100%; }
  #ara_content .rec-select .form-select{ width: 100% !important; }
}

</style>
<link rel="stylesheet" href="style/urnkodlari.css" />
<div class="card p-0">
    <div class="cardd p-2">
        <div class="child">
            <!-- ****************************************************************************************************** -->
            <div class="group-box">
                <div class="group-box">
  <div class="rec-top">

    <label class="rec-kodu-label">Kodu</label>

    <div class="rec-kodu-input" style="min-width:120px;max-width:120px;">
      <input class="form-control" style="font-weight:bold;" maxlength="10" id="recno"
             onkeydown="if(event.key === 'Enter') OBS.RECETE.receteOku()" ondblclick="OBS.RECETE.yeniFis();">
    </div>

    <button class="btn btn-secondary rec-kodu-btn" type="button" onclick="OBS.RECETE.sonfis()">
      <i class="fa fa-refresh"></i>
    </button>

    <label class="rec-anagrp-label">Ana Grup</label>
    <div class="rec-anagrp rec-select">
      <select class="form-select cins_bold" id="anagrp" onchange="OBS.RECETE.anagrpChanged(this)">
        <option th:each="kod : ${anaKodlari}" th:value="${kod.ANA_GRUP}" th:text="${kod.ANA_GRUP}"></option>
      </select>
    </div>

    <label class="rec-altgrp-label">Alt Grup</label>
    <div class="rec-altgrp rec-select">
      <select class="form-select cins_bold" id="altgrp" disabled></select>
    </div>

    <label class="rec-aciklama-label" style="margin-top:6px;">Aciklama</label>
    <textarea class="rec-aciklama-text" id="aciklama" placeholder="Aciklama"
              rows="2" required maxlength="50" style="margin-top:6px;"></textarea>

    <label class="rec-durum-label" style="margin-top:6px;">Durum</label>
    <div class="rec-durum-select rec-select" style="margin-top:6px;">
      <select class="form-select cins_bold" id="durum">
        <option value="A">Aktif</option>
        <option value="P">Pasif</option>
      </select>
    </div>

  </div>
</div>

            </div>
            <div class="group-box">
                <div class="form-row">
                    <button class="btn btn-primary" type="button" id="reckaydetButton"
                        onclick="OBS.RECETE.recKayit()">Kaydet</button>
                    <span style="padding-left: 5px;"></span>
                    <button class="btn btn-primary" type="button" id="recsilButton" onclick="OBS.RECETE.recYoket()">Sil</button>
                </div>
            </div>

        </div>
    </div>

    <div id="errorDiv"></div>
    <div class="cardd p-1">
        <div class="child">
            <div class="group-box">
                <div style="display: flex;align-items:center;margin-top:5px;">
                    <button type="button" class="btn btn-secondary ml-2" 
                        onclick="OBS.RECETE.satirekle()"><i class="fa fa-plus"></i></button>
                </div>
                <table class="table table-bordered" id="recTable" style="margin-top: 5px;">
                    <thead class="thead-dark">
                        <tr>
                            <th style="width:25px;"></th>
                            <th style="width:7%">TUR</th>
                            <th style="width:13%">URUN KODU</th>
                            <th>ADI</th>
                            <th style="width:10%">BIRIM</th>
                            <th class="double-column" style="width:17%">MIKTAR</th>
                        </tr>
                    </thead>
                    <tbody id="tbody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <span class="rec-title">Uretilecek Yeni Urun</span>

    <div class="cardd p-1">
        <div class="child">
            <div class="group-box rec-info">
                <div class="form-row">
                    <span style="padding-left: 20px;width:100px;">Kodu :</span>
                    <input id="ukodu" class="form-control" style="width: 120px; font-weight: bold;" maxlength="12"
                            ondblclick="openurunkodlariModal('ukodu', 'recetealt','ukodukod')"
                             onchange="OBS.RECETE.updateurunValues(this)" />
                    <span style="padding-left: 20px;width:100px;">Agirlik :</span>
                    <label style="width:100px;" id="agirlik">0.000</label>
                    <span style="padding-left: 20px;width:150px;">Ana Grup :</span>
                    <label style="width:150px;" id="anagrpl"></label>
                </div>
                <div class="form-row">
                    <span style="padding-left: 20px;width:100px;">Barkod :</span>
                    <label style="width:120px;" id="barkod"></label>
                    <span style="padding-left: 20px;width:100px;">Birim :</span>
                    <label style="width:100px;" id="birim"></label>
                    <span style="padding-left: 20px;width:150px;">Alt Grup :</span>
                    <label style="width:150px;" id="altgrpl"></label>
                </div>
                <div class="form-row">
                    <span style="padding-left: 20px;width:100px;"></span>
                    <label style="width:300px;" id="adi">...</label>
                </div>
            </div>
        </div>
    </div>
</div>

<input type="hidden" id="uretimBilgi" value="">

<div th:replace="~{modal/stok/urunadlari :: urnsecondModal}"></div>

