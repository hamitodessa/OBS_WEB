<link rel="stylesheet" href="style/urnkodlari.css" />
<style>
/* =========================
   2026 CAM â€“ RECETE (FINAL TEK PARÃ‡A)
   - rec-top: 2 satÄ±r (grid)
   - group-box: taÅŸarsa yatay scroll
   - tablo input kÄ±rpÄ±lmaz
   ========================= */

#ara_content{
 	color: rgba(255,255,255,.92);
	padding: 0 !important;
 }

/* ===== GROUP-BOX (CAM + SCROLL) ===== */
#ara_content .group-box{
  position: relative;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-behavior: smooth;
  overscroll-behavior-x: contain;
  width:70%;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
  border-radius: 16px;
  padding: 10px;
  margin: 10px 0;
}

/* sexy scroll */
#ara_content .group-box::-webkit-scrollbar{ height: 10px; }
#ara_content .group-box::-webkit-scrollbar-track{
  background: rgba(255,255,255,.06);
  border-radius: 10px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
#ara_content .group-box::-webkit-scrollbar-thumb{
  background: linear-gradient(135deg, rgba(56,189,248,.65), rgba(34,197,94,.55));
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(56,189,248,.35), inset 0 0 0 1px rgba(255,255,255,.25);
}
/*
#ara_content .group-box{
  scrollbar-width: thin;
  scrollbar-color: rgba(56,189,248,.65) rgba(255,255,255,.06);
}
*/
/* ===== LABEL ===== */
#ara_content label{
  color: rgba(255,255,255,.84);
  font-weight: 900;
  font-size: 12px;
  line-height: 1;
}

/* ===== INPUT / SELECT / TEXTAREA ===== */
#ara_content .form-control,
#ara_content .form-select,
#ara_content textarea{
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.16) !important;
  background: rgba(8,14,26,.55) !important;
  color: rgba(255,255,255,.92) !important;
  outline: none;
  font-weight: 900;
  font-size: 12px;
  box-sizing: border-box;
}

#ara_content .form-control,
#ara_content .form-select{
  height: 32px;
  min-height: 32px;
  padding: 6px 10px !important;
}

#ara_content textarea{
  padding: 8px 10px !important;
  min-height: 44px !important;
  height: 44px !important;
  resize: vertical;
}

#ara_content .form-control:focus,
#ara_content .form-select:focus,
#ara_content textarea:focus{
  border-color: rgba(56,189,248,.65) !important;
  box-shadow: 0 0 0 4px rgba(56,189,248,.16);
  background: rgba(8,14,26,.65) !important;
  color:#fff !important;
}

#ara_content input[type="date"]{ color-scheme: dark; }

/* ===== BUTTONS ===== */
#ara_content .btn-primary{
  border-radius: 12px;
  font-weight: 900;
  height: 36px;
  padding: 6px 14px;
  background: rgba(56,189,248,.18) !important;
  border: 1px solid rgba(56,189,248,.35) !important;
  color: rgba(255,255,255,.95) !important;
}
#ara_content .btn-primary:hover{
  background: rgba(56,189,248,.26) !important;
  border-color: rgba(56,189,248,.55) !important;
  transform: translateY(-1px);
}

#ara_content .btn.btn-secondary{
  border-radius: 12px;
  height: 36px;
  min-height: 36px;
  width: 36px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  background: rgba(255,255,255,.06) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
  color: rgba(255,255,255,.90) !important;
}
#ara_content .btn.btn-secondary:hover{
  background: rgba(56,189,248,.12) !important;
  border-color: rgba(56,189,248,.35) !important;
}

/* =========================================================
   REC-TOP: 2 SATIR GRID (AÃ‡IKLAMA + DURUM 2. SATIR)
   ========================================================= */
#ara_content .rec-top{
  display: grid;
  grid-template-columns: 70px 120px 40px 80px 160px 80px 160px;
  grid-template-rows: auto auto;
  column-gap: 10px;
  row-gap: 8px;
  align-items: center;

  min-width: 800px;     /* taÅŸarsa group-box scroll */
}

/* 1. satÄ±r */
#ara_content .rec-kodu-label { grid-column: 1; grid-row: 1; }
#ara_content .rec-kodu-input { grid-column: 2; grid-row: 1; }
#ara_content .rec-kodu-btn   { grid-column: 3; grid-row: 1; }

#ara_content .rec-anagrp-label{ grid-column: 4; grid-row: 1; justify-self: stretch; text-align:right; padding-right:10px; }
#ara_content .rec-anagrp      { grid-column: 5; grid-row: 1; }

#ara_content .rec-altgrp-label{ grid-column: 6; grid-row: 1; justify-self: stretch; text-align:right; padding-right:10px; }
#ara_content .rec-altgrp      { grid-column: 7; grid-row: 1; }

/* 2. satÄ±r */
#ara_content .rec-aciklama-label{ grid-column: 1; grid-row: 2; }
#ara_content .rec-aciklama-text { grid-column: 2 / 6; grid-row: 2; width: 100%; }

#ara_content .rec-durum-label { grid-column: 6; grid-row: 2; justify-self: stretch; text-align:right; padding-right:10px; }
#ara_content .rec-durum-select  { grid-column: 7; grid-row: 2; }

/* select arrow tek sistem */
#ara_content .rec-rel{
  position: relative;
  width: 100%;
  justify-self: stretch;
}

/* âœ… grid iÃ§inde taÅŸma olmasÄ±n (kritik) */
#ara_content .rec-top > *{ min-width:0; }

/* âœ… labelâ€™larda eski margin/padding kalÄ±ntÄ±larÄ±nÄ± sÄ±fÄ±rla */
#ara_content .rec-top label{
  margin: 0 !important;
  padding: 0 !important;
  line-height: 1 !important;
  display: block;
}

/* âœ… saÄŸdaki labelâ€™larÄ± tek kuralla aynÄ± hizaya kilitle */
#ara_content .rec-anagrp-label,
#ara_content .rec-altgrp-label,
#ara_content .rec-durum-label{
  justify-self: stretch;
  text-align: right;
  padding-right: 10px !important;
  margin-left: 0 !important;   /* ðŸ”¥ varsa bitirir */
}

/* âœ… textarea gridâ€™de â€œtaÅŸmaâ€ yapÄ±p Ã§izgiyi kaydÄ±rmasÄ±n */
#ara_content .rec-aciklama-text{
  width: 100%;
  min-width: 0 !important;     /* ðŸ”¥ ÅŸart */
}

#ara_content .rec-rel,
#ara_content .rec-anagrp,
#ara_content .rec-altgrp,
#ara_content .rec-durum-select{
  min-width: 0 !important;
  width: 100%;
}

#ara_content .rec-anagrp-label,
#ara_content .rec-altgrp-label,
#ara_content .rec-durum-label{
  justify-self: start;          /* ðŸ”¥ */
  text-align: left;             /* ðŸ”¥ */
  padding-right: 0 !important;  /* ðŸ”¥ */
  margin-left: 0 !important;
}

#ara_content .rec-rel > select.form-select{
  width: 100% !important;
  padding-right: 30px !important;
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
}
#ara_content .rec-arrow{
  position: absolute;
  top: 50%;
  right: 10px;
  transform: translateY(-50%);
  pointer-events: none;
  font-weight: 900;
  font-size: 12px;
  color: rgba(255,255,255,.78);
  text-shadow: 0 0 10px rgba(0,0,0,.55);
}

/* =========================================================
   TABLE â€“ recTable (input kÄ±rpma yok)
   ========================================================= */
   
/* tablo wrapper: scroll burada */
#ara_content .rec-table-wrap{
  width: 70%;                 /* senin layout */
  overflow-x: auto;
  overflow-y: hidden;
  margin-top:5px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.14);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) !important;
  padding: 0;                 /* tablo kenarÄ± tam otursun */
}

/* sexy scroll (wrapperâ€™a) */
#ara_content .rec-table-wrap::-webkit-scrollbar{ height: 10px; }
#ara_content .rec-table-wrap::-webkit-scrollbar-track{
  background: rgba(255,255,255,.06);
  border-radius: 10px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
#ara_content .rec-table-wrap::-webkit-scrollbar-thumb{
  background: linear-gradient(135deg, rgba(56,189,248,.65), rgba(34,197,94,.55));
  border-radius: 10px;
  box-shadow: 0 0 12px rgba(56,189,248,.35), inset 0 0 0 1px rgba(255,255,255,.25);
}

#ara_content #recTable{
  width: 100%;
  min-width: 800px;           /* taÅŸÄ±nca scroll Ã§Ä±kar */
  margin: 0 !important;
  border: 0 !important;
  border-collapse: separate;
  border-spacing: 0;
  background: transparent !important;
  table-layout: fixed;
}


/* header sticky Ã§alÄ±ÅŸsÄ±n */
#ara_content #recTable thead th{
 position: sticky;
  top: 0;
  z-index: 2;
  background: linear-gradient(180deg,#1f3b5c,#162b44) !important;
  color: #fff !important;
  font-size: 12px;
  font-weight: 900;
  text-align: left;
  white-space: nowrap;
}

#ara_content #recTable th,
#ara_content #recTable td{
  border: 0 !important;
  border-bottom: 1px solid rgba(255,255,255,.10) !important;
  padding: 5px 8px !important;
  height: 34px !important;          /* kÄ±rpma biter */
  vertical-align: middle !important;
  white-space: nowrap;
}
#ara_content #recTable tbody td{
  background: rgba(255,255,255,.04) !important;
  color: rgba(255,255,255,.78) !important;
  overflow: visible !important;
}
/* saÄŸa hizalÄ± kolonlar */
#ara_content .double-column,
#ara_content .saga-bold{
  text-align: right !important;
  font-weight: 900 !important;
  font-variant-numeric: tabular-nums;
}


#ara_content #recTable tbody .form-control,
#ara_content #recTable tbody .form-select{
  height: 30px !important;
  min-height: 30px !important;
  border-radius: 10px !important;
  padding: 4px 8px !important;
  font-size: 12px !important;
  font-weight: 900 !important;
}

/* tablo iÃ§i trash butonu */
#ara_content #recTable tbody .btn.btn-secondary{
  height: 28px !important;
  width: 34px !important;
  padding: 0 !important;
  border-radius: 10px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}
#ara_content #recTable tbody .ml-2{ margin-left: 0 !important; }

#ara_content .ta-right{ text-align: right !important; }

/* ===== ALT BÄ°LGÄ° (rec-info) ===== */
#ara_content .rec-info{
  padding: 10px 12px !important;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
  border-radius: 16px;
  flex-wrap: nowrap !important;   /* ðŸ”¥ kÄ±rma yok */
  overflow-x: auto !important;    /* ðŸ”¥ taÅŸarsa kaydÄ±r */
  overflow-y: hidden !important;
  white-space: nowrap;
  padding-bottom: 6px;            /* scrollbar alt boÅŸluk */
 
}

#ara_content .rec-info .form-row{
  display:flex !important;
  align-items:center;
  gap: 6px 10px !important;
  margin-bottom: 6px !important;
}

#ara_content .rec-info .form-row > *{
  flex: 0 0 auto;
}

/* span baÅŸlÄ±klar */
#ara_content .rec-info .form-row > span[style*="width"]{
  color: rgba(255,255,255,.72) !important;
  font-weight: 900;
  font-size: 12px;
  line-height: 1.1;
}

/* deÄŸer label badge */
#ara_content .rec-info .form-row > label{
  display:inline-flex;
  align-items:center;

  background: rgba(255,255,255,.04) !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  border-radius: 10px !important;

  padding: 4px 10px !important;
  min-height: 30px !important;
  font-size: 12px !important;
  line-height: 1.1 !important;

  color: rgba(255,255,255,.92) !important;
  font-weight: 900 !important;
}

/* baÅŸlÄ±k */
#ara_content .rec-title{
  display:block;
  margin: 8px 0 0 20px;
  font-weight: 900;
  color: rgba(255,255,255,.88);
  text-shadow: 0 0 14px rgba(56,189,248,.18);
}

/* error */
#ara_content #errorDiv{
  display:none;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: #fff;
  font-weight: 900;
}
</style>


<div class="group-box">
	<div class="rec-top">
		<label class="rec-kodu-label">Kodu</label>
		<div class="rec-kodu-input"
			style="min-width: 120px; max-width: 120px;">
			<input class="form-control" style="font-weight: bold;" maxlength="10"
				id="recno"
				onkeydown="if(event.key === 'Enter') OBS.RECETE.receteOku()"
				ondblclick="OBS.RECETE.yeniFis();">
		</div>
		<button class="btn btn-secondary rec-kodu-btn rec-icon" type="button"
			onclick="OBS.RECETE.sonfis()">
			<i class="fa fa-refresh"></i>
		</button>
		<label class="rec-anagrp-label">Ana Grup</label>
		<div class="rec-anagrp rec-rel">
			<select class="form-select cins_bold" id="anagrp"
				onchange="OBS.RECETE.anagrpChanged(this)">
				<option th:each="kod : ${anaKodlari}" th:value="${kod.ANA_GRUP}"
					th:text="${kod.ANA_GRUP}"></option>
			</select> <span class="rec-arrow">â–¼</span>
		</div>
		<label class="rec-altgrp-label">Alt Grup</label>
		<div class="rec-altgrp rec-rel">
			<select class="form-select cins_bold" id="altgrp" disabled></select>
			<span class="rec-arrow">â–¼</span>
		</div>
		<label class="rec-aciklama-label">Aciklama</label>
		<textarea class="rec-aciklama-text" id="aciklama"
			placeholder="Aciklama" rows="2" required maxlength="50"></textarea>

		<label class="rec-durum-label">Durum</label>

		<div class="rec-durum-select rec-rel">
			<select class="form-select cins_bold" id="durum">
				<option value="A">Aktif</option>
				<option value="P">Pasif</option>
			</select> <span class="rec-arrow">â–¼</span>
		</div>
	</div>
</div>



<div class="group-box">
	<div class="form-row">
		<button class="btn btn-primary" type="button" id="reckaydetButton"
			onclick="OBS.RECETE.recKayit()">Kaydet</button>
		<span style="padding-left: 5px;"></span>
		<button class="btn btn-primary" type="button" id="recsilButton"
			onclick="OBS.RECETE.recYoket()">Sil</button>
	</div>
</div>

<div id="errorDiv"></div>

<button type="button" class="btn btn-secondary ml-2"
	onclick="OBS.RECETE.satirekle()">
	<i class="fa fa-plus"></i>
</button>

<div class="rec-table-wrap">
<table class="table table-bordered" id="recTable"
	style="margin-top: 5px;">
	<colgroup>
		<col style="width: 30px;">
		<col style="width: 100px;">
		<col style="width: 100px;">
		<col style="width: 250px;">
		<col style="width: 100px;">
		<col style="width: 150px;">
	</colgroup>
	<thead class="thead-dark">
		<tr>
			<th></th>
			<th>TUR</th>
			<th>URUN KODU</th>
			<th>ADI</th>
			<th>BIRIM</th>
			<th class="double-column">MIKTAR</th>
		</tr>
	</thead>
	<tbody id="tbody">
	</tbody>
</table>
</div>
<span class="rec-title">Uretilecek Yeni Urun</span>

<div class="group-box rec-info">
	<div class="form-row">
		<span style="padding-left: 20px; width: 100px;">Kodu :</span> <input
			id="ukodu" class="form-control"
			style="width: 120px; font-weight: bold;" maxlength="12"
			ondblclick="openurunkodlariModal('ukodu', 'recetealt','ukodukod')"
			onchange="OBS.RECETE.updateurunValues(this)" /> <span
			style="padding-left: 20px; width: 100px;">Agirlik :</span> <label
			style="width: 100px;" id="agirlik">0.000</label> <span
			style="padding-left: 20px; width: 150px;">Ana Grup :</span> <label
			style="width: 150px;" id="anagrpl"></label>
	</div>
	<div class="form-row">
		<span style="padding-left: 20px; width: 100px;">Barkod :</span> <label
			style="width: 120px;" id="barkod"></label> <span
			style="padding-left: 20px; width: 100px;">Birim :</span> <label
			style="width: 100px;" id="birim"></label> <span
			style="padding-left: 20px; width: 150px;">Alt Grup :</span> <label
			style="width: 150px;" id="altgrpl"></label>
	</div>
	<div class="form-row">
		<span style="padding-left: 20px; width: 100px;"></span> <label
			style="width: 300px;" id="adi">...</label>
	</div>
</div>




<input type="hidden" id="uretimBilgi" value="">

<div th:replace="~{modal/stok/urunadlari :: urnsecondModal}"></div>

