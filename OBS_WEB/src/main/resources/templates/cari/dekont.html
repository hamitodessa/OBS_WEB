<style>

#ara_content{ color: rgba(255,255,255,.92); }

/* ===== CARD / SAYFA ===== */
#ara_content .card.p-4{
  /* senin cam stilin kalsın */
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
  border-radius: 18px;
  box-shadow: 0 18px 55px rgba(0,0,0,.45);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  /* SCROLL */
  max-height: 85vh;          /* dikey scroll için şart */
  overflow-y: auto;
  overflow-x: auto;

  /* köşeler düzgün kalsın */
  position: relative;
}

#ara_content .card.p-4::-webkit-scrollbar{
  width: 10px;
  height: 10px;
}
#ara_content .card.p-4::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.25);
  border-radius: 10px;
}
#ara_content .card.p-4::-webkit-scrollbar-track{
  background: transparent;
}



/* ===== DIŞ PANEL ===== */


#ara_content .group-box,
#ara_content .fourth-group-box{
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.02);
  border-radius: 16px;
  padding: 12px;
  margin-top: 6px;
  
  width: 60%;
  box-sizing: border-box;
}

/* ===== BAŞLIKLAR ===== */
#ara_content h6{
  margin: 10px 0 6px 0;
  font-weight: 900;
  letter-spacing: .2px;
  text-shadow: 0 2px 8px rgba(0,0,0,.45);
}

/* ===== FORM ROW (YAN YANA SABİT) ===== */
#ara_content .form-row{
  display: flex !important;
  align-items: center !important;
  gap: 10px;
  width: 100%;
  box-sizing: border-box;
  flex-wrap: nowrap !important; /* <<< ALT ALTA DÜŞMESİN */
  margin-bottom: 5px;
}

/* borç/alacak üstte isim satırı */
#ara_content .form-row-borc-alacak{
  display:flex;
  align-items:center;
  justify-content: space-between;
  margin-bottom: 8px;
  height: 25px;
}

/* label */
#ara_content .form-row label{
  margin: 0;
  color: rgba(255,255,255,.82);
  font-weight: 900;
  font-size: 13px;
}

/* ===== INPUT/SELECT – CAM STANDARD ===== */
#ara_content .form-control,
#ara_content .form-select,
#ara_content textarea.form-control{
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(8,14,26,.45);
  color: rgba(255,255,255,.92);
  box-sizing: border-box;
}

#ara_content .form-control:focus,
#ara_content .form-select:focus,
#ara_content textarea.form-control:focus{
  border-color: rgba(56,189,248,.65);
  box-shadow: 0 0 0 5px rgba(56,189,248,.18);
  background: rgba(8,14,26,.65);
  color:#fff;
}

#ara_content .form-control::placeholder{
  color: rgba(255,255,255,.55) !important;
  font-weight: 600;
} 

#ara_content input[type="date"]{ color-scheme: dark; }

/* disabled okunaklı */
#ara_content .form-control:disabled,
#ara_content .form-select:disabled,
#ara_content textarea.form-control:disabled{
  opacity: .78;
  color: rgba(255,255,255,.78);
  background: rgba(8,14,26,.30);
}

/* ===== GENİŞLİK HELPERS (senin eski classların) ===== */
#ara_content .width-50{ width: 50px; }
#ara_content .width-150{ width: 150px; }
#ara_content .width-250{ width: 250px; }

#ara_content .saga-bold{
  text-align: right;
  font-weight: 900;
}
#ara_content .cins_bold{
  font-weight: 900;
}
#ara_content .padding-sag{ padding-right: 15px; }

/* isim label renkleri */
#ara_content .borcluAdi{
  text-align:left;
  font-weight: 900;
  color: rgba(251,113,133,.95);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
  max-width: 260px;
  text-shadow: 0 2px 8px rgba(0,0,0,.45);
}
#ara_content .alacakliAdi{
  text-align:left;
  font-weight: 900;
  color: rgba(34,197,94,.95);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
  max-width: 260px;
  text-shadow: 0 2px 8px rgba(0,0,0,.45);
}

/* ===== ÖZEL: BORÇ/ALACAK SATIRI YAN YANA KİLİT ===== */
/* datalistli wrapper div (position:relative) sabit 150px */
#ara_content .form-row > div[style*="position: relative"]{
  flex: 0 0 150px !important;
  width: 150px !important;
}

/* cins label sabit */
#ara_content #borcluHesapCins,
#ara_content #alacakliHesapCins{
  flex: 0 0 50px !important;
  width: 50px !important;
}

/* kur cinsi */
#ara_content #borcKurCins,
#ara_content #alacakKurCins{
  flex: 0 0 110px !important;
  width: 110px !important;
}

/* kur */
#ara_content #borcKur,
#ara_content #alacakKur{
  flex: 0 0 100px !important;
  width: 100px !important;
}

/* tutar (geniş) */
#ara_content #borcTutar,
#ara_content #alacakTutar{
  flex: 1 1 160px !important;
  min-width: 160px !important;
}

/* ===== FOURTH BOX: TEXTAREA + KODU YAN YANA ===== */
#ara_content .fourth-group-box{
  display:flex !important;
  gap: 12px;
  align-items: flex-start;
  justify-content: space-between;
}

#ara_content .text-area{
  flex: 1 1 70% !important;
  width: auto !important;
  height: 90px !important;
  resize: none;
  font-size: 14px;
  padding: 10px;
}

#ara_content .right-section{
  flex: 0 0 25% !important;
  width: auto !important;
  display:flex;
  flex-direction: column;
}

/* ===== BUTTONLAR ===== */
#ara_content .btn.btn-secondary{
  width: 44px;
  height: 44px;
  padding: 0;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
  color: rgba(255,255,255,.92);
  display: grid;
  place-items: center;
  transition: .16s ease;
}
#ara_content .btn.btn-secondary:hover{
  background: rgba(255,255,255,.12);
  border-color: rgba(56,189,248,.35);
  transform: translateY(-2px);
}

/* alttaki kaydet/sil */
#ara_content .buttonBolum{
  width: 100%;
  display:flex;
  justify-content: flex-start;
  gap: 10px;
  margin-top: 12px;
}

#ara_content .btn.btn-primary{
  height: 46px;
  border-radius: 14px;
  font-weight: 900;
  border: none;
  background: linear-gradient(180deg, rgba(56,189,248,.95), rgba(37,99,235,.95));
  color: #fff;
  transition: .16s ease;
  padding: 0 16px;
}
#ara_content .btn.btn-primary:hover{
  transform: translateY(-2px);
  filter: brightness(1.03);
}

/* Sil butonu kırmızı gradient */
#ara_content #deksilButton{
  background: linear-gradient(180deg, rgba(251,113,133,.95), rgba(220,38,38,.95)) !important;
}


/* 1) Kart viewport içinde kalsın (kendisi büyümesin) */
#ara_content .card.p-4{
  width: 100%;
  max-width: 100%;
  height: 67vh;          /* max-height değil: her zaman scroll alanı olsun */
  overflow: auto;        /* hem x hem y */
}

/* 2) Yatay taşmayı gerçekten üret (shrink kapat) */
#ara_content .form-row{
  flex-wrap: nowrap !important;
}

#ara_content .form-row > *{
  flex: 0 0 auto !important;   /* daralmasın → taşsın → scroll çıksın */
}

/* 3) İstersen içeriğe min genişlik ver (kart değil!) */
#ara_content .group-box,
#ara_content .fourth-group-box,
#ara_content .buttonBolum{
  min-width: 750px;            /* ihtiyaca göre 850-1100 */
}

/* ===== ERROR ===== */
#ara_content #errorDiv{
  display:none;
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: #fff;
  font-weight: 900;
}



/* ===== RESPONSIVE (dar ekranda alt alta düşsün) ===== */
@media (max-width: 820px){
  
  #ara_content .form-row{ flex-wrap: wrap !important; }
  #ara_content .fourth-group-box{ flex-wrap: wrap !important; }
  #ara_content .right-section{ flex: 1 1 100% !important; }
}
</style>

<link rel="stylesheet" href="style/yenihsppln.css" />

<div class="card p-4">
	
	
			<!-- İlk Child -->
				<div class="group-box">
					<div class="form-row">
						<input type="date" id="dekontTarih" class="form-control" th:value="${evrakTarih}"
							style="width: 140px;font-weight: bold;" /> 
						<label for="bos" style="width: 160px;"></label>
						<button type="button" class="btn btn-secondary ml-2" onclick="dekgerifisNo()">
							<i class="fa fa-backward"></i>
						</button>
						<span style="padding-left: 5px;"></span>
						<button type="button" class="btn btn-secondary ml-2" onclick="deksonfisNo()">
							<i class="fa fa-refresh"></i>
						</button>
						<span style="padding-left: 5px;"></span>
						<button type="button" class="btn btn-secondary ml-2" onclick="dekilerifisNo()">
							<i class="fa fa-forward"></i>
						</button>
						<span style="padding-left: 5px;"></span>
						<input type="text" id="evrakNo"  name="evrakNo" placeholder="0" onkeypress="checkEnter(event)" onkeydown="allowOnlyNumbers(event)"
							class="form-control saga-bold" style="width: 100px;" />
						<span style="padding-left: 5px;"></span>
						<button type="button" id="btnYeni" class="btn btn-secondary ml-2" onclick="dekyenifis()" ><i class="fa fa-plus"></i>	</button>
					</div>
				</div>
			<!-- Borclu Hesap Child -->
			<h6 style="text-align:left; color:red;">Borclu Hesap</h6>
				<div class="group-box">
					<div class="form-row-borc-alacak">    
						<label for="cins" class="borcluAdi width-250" id="borcluAdi"></label> 
						<label for="cins"></label>
					</div>
					<div class="form-row">
						<div style="position: relative; width: 150px;">
							<!-- Input Alanı -->
							<input class="form-control cins_bold"
								ondblclick="openSecondModal('borcHesap', 'dekont')"
								maxlength="12" style="width: 100%; padding-right: 30px;"
								list="borcOptions" id="borcHesap" 
								oninput="dekhesapAdiOgren('borcHesap', 'borcluAdi', 'borcluHesapCins'); validateAutoSearch('borcHesap', 'borcOptions')"	disabled>
								<datalist id="borcOptions" >
									<option th:each="kod : ${hesapKodlari}" th:value="${kod.HESAP}"></option>
								</datalist>
							<span style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); 
							pointer-events: none;color:rgba(255,255,255,.9);text-shadow:0 0 6px rgba(255,255,255,.35);"> ▼ </span>
						</div>
						<label for="cins" class="width-50 cins_bold" id="borcluHesapCins"></label> 
						
						<select class="form-select" style="width: 100px;" id="borcKurCins" disabled onchange="dekkurOku('borcluHesapCins',this,'borcKur')">
							<option value="">Kur Cinsi</option>
							<option value="MA">MA</option>
							<option value="MS">MS</option>
							<option value="SA">SA</option>
							<option value="SS">SS</option>
						</select> 
						
						<span style="padding-left: 10px;"></span>
						<input class="form-control saga-bold" style="width: 100px" type="number" id="borcKur" value="1.0000" disabled /> 
						<input class="form-control saga-bold" style="width: 160px" type="text" onblur="formatInputBox2(this)" id="borcTutar" value="0.00" ondblclick="tutarKontrolBorc()" disabled />
					</div>
				</div>
			<!-- Alacakli Child -->
			<h6 style="text-align:left; color:green;">Alacakli Hesap</h6>
				<div class="group-box">
					<div class="form-row-borc-alacak">
						<label for="cins" class="alacakliAdi width-250" id="alacakliAdi"></label> 
						<label for="cins" ></label>
					</div>
					<div class="form-row">
						<div style="position: relative; width: 150px;">
							<input class="form-control cins_bold"
								ondblclick="openSecondModal('alacakHesap', 'dekont')"
								style="width: 100%; padding-right: 30px;" list="alacakOptions"
								maxlength="12" id="alacakHesap" 
								oninput="dekhesapAdiOgren('alacakHesap', 'alacakliAdi', 'alacakliHesapCins'); validateAutoSearch('alacakHesap', 'alacakOptions')"
								disabled>
							<datalist id="alacakOptions">
								<option th:each="kod : ${hesapKodlari}" th:value="${kod.HESAP}"></option>
							</datalist>
							<span style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); 
							pointer-events: none;color:rgba(255,255,255,.9);text-shadow:0 0 6px rgba(255,255,255,.35);"> ▼ </span>
						</div>
						<label for="cins" id="alacakliHesapCins" class="width-50 cins_bold"></label> 
						
						<select class="form-select" style="width: 100px" id="alacakKurCins" disabled onchange="dekkurOku('alacakliHesapCins',this,'alacakKur')">
							<option value="">Kur Cinsi</option>
							<option value="MA">MA</option>
							<option value="MS">MS</option>
							<option value="SA">SA</option>
							<option value="SS">SS</option>
						</select> 
							
						<span style="padding-left: 10px;"></span>
						<input class="form-control saga-bold" style="width: 100px" type="number" id="alacakKur" value="1.0000" disabled />
						<input	ondblclick="tutarKontrolAlacak()" class="form-control saga-bold" style="width: 160px" type="text" onblur="formatInputBox2(this)"	id="alacakTutar" value="0.00" disabled />
					</div>
				</div>
			<!-- Dördüncü Child -->
				<div class="fourth-group-box">
					<textarea class="form-control text-area" maxlength="100"
						placeholder="Açıklama girin..." id="aciklama" disabled></textarea>
					<div class="right-section">
						<input type="text" id="kodu"  maxlength="5" class="form-control input"
							placeholder="Kodu" disabled/>
					</div>
				</div>
			<!-- Buttonlar -->
			<div class="buttonBolum">
				<button class="btn btn-primary" type="button" id="dekkaydetButton"
					onclick="dekfisKayit()">Kaydet</button>
				<button class="btn btn-primary" type="button" id="deksilButton" 
					onclick="dekfisYoket()">Sil</button>
			</div>
			<div id="errorDiv"></div>
    
		
	</div>
<div th:replace="~{modal/yenihsppln :: secondModal}"></div>
