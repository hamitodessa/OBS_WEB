<style>
/* =========================
   2026 CAM – HSP KOMPAKT (GRID)
   wrapper: #hsp_content
   ========================= */

#hsp_content{
  color: rgba(255,255,255,.92);
}

/* CARD */
#hsp_content .card{
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)) !important;
  border: 1px solid rgba(255,255,255,.16) !important;
  border-radius: 18px;
  box-shadow: 0 18px 55px rgba(0,0,0,.45);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

/* ======================================================
   LAYOUT: sol form + sağ resim
   ====================================================== */
#hsp_content .hsp-layout{
  display: grid;
  grid-template-columns: 1fr 280px;
  gap: 14px;
  align-items: start;
}

/* küçük ekranda resim alta insin */
@media (max-width: 1100px){
  #hsp_content .hsp-layout{ grid-template-columns: 1fr; }
}

/* SOL alan: tek cam panel */
#hsp_content .hsp-left{
  width: 100%;
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.03);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
  box-sizing: border-box;
}

/* TOOLBAR (arama + datalist) */
#hsp_content .hsp-toolbar{
  display: grid;
  grid-template-columns: 110px 1fr 170px;
  gap: 10px;
  align-items: center;

  padding: 10px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.02);
}

/* NAV / AKSİYON BAR */
#hsp_content .hsp-actions{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;

  margin-top: 10px;
  padding: 10px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
}

/* FORM GRID */
#hsp_content .hsp-form{
  margin-top: 10px;
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 10px;
}

/* alan kutusu */
#hsp_content .hsp-field{
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;

  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}

/* label chip */
#hsp_content .hsp-label{
  height: 30px;
  min-width: 96px;

  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 0 10px;
  border-radius: 10px;

  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.86);
  font-weight: 900;
  font-size: 12px;
  white-space: nowrap;
  text-shadow: 0 2px 8px rgba(0,0,0,.45);
}

/* input/select/textarea */
#hsp_content .form-control,
#hsp_content .form-select,
#hsp_content textarea.form-control{
  height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(8,14,26,.45);
  color: rgba(255,255,255,.92);
  box-sizing: border-box;
}

#hsp_content .form-control:focus,
#hsp_content .form-select:focus,
#hsp_content textarea.form-control:focus{
  border-color: rgba(56,189,248,.65);
  box-shadow: 0 0 0 5px rgba(56,189,248,.18);
  background: rgba(8,14,26,.65);
  color:#fff;
}

#hsp_content input[type="date"]{ color-scheme: dark; }

#hsp_content .form-control:disabled,
#hsp_content .form-select:disabled,
#hsp_content textarea.form-control:disabled{
  opacity: .86;
  color: rgba(255,255,255,.78);
  background: rgba(8,14,26,.30);
}

/* checkbox */
#hsp_content .form-check-input{
  width: 18px;
  height: 18px;
  margin: 0;
  transform: none;
  accent-color: rgba(56,189,248,.9);
  border: 1px solid rgba(255,255,255,.28);
  background: rgba(8,14,26,.50);
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.45));
}

/* kod kontrol */
#hsp_content #kodKontrol{
  color: rgba(251,113,133,.95) !important;
  font-weight: 900;
  text-shadow: 0 2px 8px rgba(0,0,0,.45);
}

/* buton */
#hsp_content .btn.btn-secondary{
  height: 40px;
  min-width: 44px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
  color: rgba(255,255,255,.92);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: .16s ease;
}
#hsp_content .btn.btn-secondary:hover{
  background: rgba(255,255,255,.12);
  border-color: rgba(56,189,248,.35);
  transform: translateY(-2px);
}

/* datalist ok */
#hsp_content .datalist-arrow{
  color: rgba(255,255,255,.9);
  text-shadow: 0 0 6px rgba(255,255,255,.35);
}

/* SAĞ FOTO */
#hsp_content .hsp-photo{
  position: sticky;
  top: 14px;
}

#hsp_content .resimcentered-div{
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#hsp_content .resimdiv{
  width: 100%;
  height: 320px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

#hsp_content .resimgoster{
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* ERROR */
#hsp_content #errorDiv{
  display:none;
  margin-bottom: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(251,113,133,.35);
  background: rgba(251,113,133,.10);
  color: #fff;
  font-weight: 900;
}

/* GRID SPAN helpers */
#hsp_content .c12{ grid-column: span 12; }
#hsp_content .c8 { grid-column: span 8; }
#hsp_content .c6 { grid-column: span 6; }
#hsp_content .c4 { grid-column: span 4; }

/* mobilde hepsi tek kolon */
@media (max-width: 1100px){
  #hsp_content .c4, #hsp_content .c6, #hsp_content .c8{ grid-column: span 12; }
}
</style>


<div id="hsp_content">
  <div id="errorDiv"></div>

  <div class="card p-4">
    <div class="hsp-layout">

      <!-- SOL -->
      <div class="hsp-left">

        <!-- TOOLBAR -->
        <div class="hsp-toolbar">
          <span class="hsp-label" style="min-width:110px;">Arama</span>

          <input type="text" id="arama" class="form-control"
                 oninput="hsparamaYap()" th:value="${hesapKodu}">

          <div style="position: relative;">
            <input class="form-control cins_bold" maxlength="12"
                   list="hesapOptions" id="hesapKodlari"
                   style="width:100%; padding-right:30px;">
            <datalist id="hesapOptions">
              <option th:each="kod : ${hesapKodlari}" th:value="${kod.HESAP}"></option>
            </datalist>
            <span class="datalist-arrow"
                  style="position:absolute; top:50%; right:10px; transform:translateY(-50%); pointer-events:none;">▼</span>
          </div>
        </div>

        <!-- NAV -->
        <div class="hsp-actions">
          <button type="button" id="geriButton" class="btn btn-secondary" onclick="hsplnGeri()"><i class="fa fa-backward"></i></button>
          <button type="button" id="ilkButton" class="btn btn-secondary" onclick="hsplnIlk()"><i class="fa fa-refresh"></i></button>
          <button type="button" id="ileriButton" class="btn btn-secondary" onclick="hsplnIleri()"><i class="fa fa-forward"></i></button>
        </div>

        <!-- FORM GRID -->
        <div class="hsp-form">

          <!-- Hesap kodu + kontrol -->
          <div class="hsp-field c6">
            <span class="hsp-label">Hesap Kodu</span>
            <input type="text" id="kodu" disabled class="form-control" style="max-width:180px;font-weight:bold;"
                   oninput="hesapAdiOgren(this.value, 'kodKontrol')">
            <span id="kodKontrol"></span>
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Unvan</span>
            <input type="text" id="adi" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Karton</span>
            <input type="text" id="karton" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Cins</span>
            <input type="text" id="hcins" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Sms</span>
            <input type="checkbox" id="sms" class="form-check-input">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Yetkili</span>
            <input type="text" id="yetkili" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Email</span>
            <input type="text" id="mail" disabled class="form-control">
          </div>

          <div class="hsp-field c8">
            <span class="hsp-label">Adres1</span>
            <input type="text" id="ad1" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Semt</span>
            <input type="text" id="semt" disabled class="form-control">
          </div>

          <div class="hsp-field c8">
            <span class="hsp-label">Adres2</span>
            <input type="text" id="ad2" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Sehir</span>
            <input type="text" id="seh" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Vergi D.</span>
            <input type="text" id="vd" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Vergi No</span>
            <input type="text" id="vn" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Tel 1</span>
            <input type="text" id="t1" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Tel 2</span>
            <input type="text" id="t2" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Tel 3</span>
            <input type="text" id="t3" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Fax</span>
            <input type="text" id="fx" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Ozel 1</span>
            <input type="text" id="o1" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Ozel 2</span>
            <input type="text" id="o2" disabled class="form-control">
          </div>

          <div class="hsp-field c4">
            <span class="hsp-label">Ozel 3</span>
            <input type="text" id="o3" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">Web</span>
            <input type="text" id="web" disabled class="form-control">
          </div>

          <div class="hsp-field c6">
            <span class="hsp-label">TC Kimlik</span>
            <input type="text" id="kim" disabled class="form-control">
          </div>

          <div class="hsp-field c12">
            <span class="hsp-label">Aciklama</span>
            <input type="text" id="acik" disabled class="form-control">
          </div>

        </div>

        <!-- KAYDET / SİL / YENİ -->
        <div class="hsp-actions">
          <button type="button" id="kaydetButton" class="btn btn-secondary" onclick="hsplnKayit()"><i class="fa fa-save"></i></button>
          <button type="button" id="silButton" class="btn btn-secondary" onclick="hsphesapSil()"><i class="fa fa-trash"></i></button>
          <button type="button" id="yeniButton" class="btn btn-secondary" onclick="hspenableInputs()"><i class="fa fa-plus"></i></button>
        </div>

      </div>

      <!-- SAĞ FOTO -->
      <div class="hsp-photo">
        <div class="resimcentered-div">
          <div class="resimdiv">
            <img id="resimGoster" class="resimgoster" src="" alt="Base64 Resim" style="display:none;" />
          </div>

          <button type="button" id="resimremove" class="btn btn-secondary" style="width:100%;" onclick="resimSil()">
            <i class="fa fa-remove"></i>
          </button>

          <input type="file" id="resim" name="resim" accept="image/*" disabled
                 class="form-control" style="width:100%;">
        </div>
      </div>

    </div>
  </div>
</div>


<script src="/obs_js_files/cari/hspplngiris.js"></script>

<script>
document.getElementById('resim').addEventListener('change', function (event) {
  const file = event.target.files[0];
  const maxSizeInKB = 500;
  const maxSizeInBytes = maxSizeInKB * 1024;
  const errorDiv = document.getElementById("errorDiv");

  if (file && file.size > maxSizeInBytes) {
    errorDiv.innerText = `Dosya boyutu ${maxSizeInKB} KB'ı geçemez!`;
    errorDiv.style.display = "block";
    event.target.value = '';
  } else {
    errorDiv.style.display = "none";
    errorDiv.innerText = "";
  }
});
</script>
